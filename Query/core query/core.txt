-- Generated by the database client.
CREATE TABLE event_details(
    id SERIAL NOT NULL,
    event_id integer,
    event_dates jsonb NOT NULL,
    school_audience jsonb NOT NULL,
    audience integer NOT NULL,
    clubs text[],
    resources text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    eventtype character varying[] DEFAULT '{}'::character varying[],
    objectives character varying[] DEFAULT '{}'::character varying[],
    title text,
    description text,
    guests jsonb,
    registration text,
    PRIMARY KEY(id),
    CONSTRAINT event_details_event_id_fkey FOREIGN key(event_id) REFERENCES events(id)
);





-- Generated by the database client.
CREATE TABLE eventapprovals(
    id SERIAL NOT NULL,
    event_id integer NOT NULL,
    approver_id integer NOT NULL,
    status new_event_status DEFAULT 'Pending'::new_event_status,
    reason text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY(id),
    CONSTRAINT eventapprovals_event_id_fkey FOREIGN key(event_id) REFERENCES events(id),
    CONSTRAINT eventapprovals_approver_id_fkey FOREIGN key(approver_id) REFERENCES users(id)
);






-- Generated by the database client.
CREATE TABLE events(
    id SERIAL NOT NULL,
    created_by integer NOT NULL,
    status new_event_status DEFAULT 'Pending'::new_event_status,
    current_approver integer,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY(id),
    CONSTRAINT events_created_by_fkey FOREIGN key(created_by) REFERENCES users(id),
    CONSTRAINT events_current_approver_fkey FOREIGN key(current_approver) REFERENCES users(id)
);






-- Generated by the database client.
CREATE TABLE notification(
    id SERIAL NOT NULL,
    user_id integer NOT NULL,
    event_id integer NOT NULL,
    notification_type varchar(50),
    message text NOT NULL,
    sent_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY(id),
    CONSTRAINT notification_user_id_fkey FOREIGN key(user_id) REFERENCES users(id),
    CONSTRAINT notification_event_id_fkey FOREIGN key(event_id) REFERENCES events(id)
);







-- Generated by the database client.
CREATE TABLE report(
    id SERIAL NOT NULL,
    event_id integer NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    title varchar(255),
    event_type varchar(100),
    guest_speakers jsonb,
    start_date date,
    start_time time without time zone,
    end_date date,
    end_time time without time zone,
    objectives text[],
    venue varchar(255),
    resources text,
    audience integer,
    description text,
    photos text[],
    faculty_coordinators jsonb,
    student_coordinators jsonb,
    schools text[],
    branches text[],
    classes text[],
    years text[],
    clubs text,
    PRIMARY KEY(id),
    CONSTRAINT report_event_id_fkey FOREIGN key(event_id) REFERENCES events(id)
);







